# âœ… StructMOGWO å…¨é¢æ¢³ç†ï¼šå‡†å¤‡å†™ä»£ç ç‰ˆæœ¬
## ğŸ§  ç›®æ ‡ä»»åŠ¡ç®€è¿°ï¼š

> è§£å†³ **å¤šç›®æ ‡ã€ç¦»æ•£å½±å“åŠ›æœ€å¤§åŒ–ï¼ˆDMOIMï¼‰é—®é¢˜**ï¼Œä¼˜åŒ–èŠ‚ç‚¹ç§å­é›†ï¼Œä½¿å…¶åœ¨ä¼ æ’­èŒƒå›´æœ€å¤§åŒ–ã€æˆæœ¬æœ€å°åŒ–ã€å…¬å¹³æ€§ç­‰å¤šä¸ªç›®æ ‡ä¸Šé€¼è¿‘ Pareto å‰æ²¿ã€‚
## ğŸ§± 1. è§£çš„è¡¨ç¤º

- æ¯åªç‹¼è¡¨ç¤ºä¸ºä¸€ä¸ªç§å­èŠ‚ç‚¹é›†åˆï¼š
  ```python
  wolf.Position = set([v1, v2, ..., vk])  # k = budget
  ```
---

## ğŸŒ± 2. åˆå§‹åŒ–ç­–ç•¥

- ç»“æ„æŒ‡æ ‡æå‰è®¡ç®—ï¼š
- åˆå§‹åŒ–ç§ç¾¤ï¼š
  - 50% ä¸ªä½“ä½¿ç”¨ç»“æ„å¯å‘å¼ï¼ˆcloseness + degree æ’åå‰ kï¼‰ï¼›
  - 50% ä¸ªä½“ä½¿ç”¨éšæœºé‡‡æ ·ï¼›
- åŒæ—¶é¢„å¤„ç†æŒ‡æ ‡å½’ä¸€åŒ–ï¼š
---

## ğŸ§  3. ä¸»è¿­ä»£è¿‡ç¨‹æ ¸å¿ƒæ¨¡å—

### ğŸ¯ æ¯è½®è¿­ä»£ç»“æ„å¦‚ä¸‹ï¼š

```python
for t in range(max_iter):
    # 1. æ›´æ–°é€‚åº”åº¦
    for wolf in population:
        wolf.Cost = multi_obj_eval(wolf.Position)

    # 2. æ›´æ–° archiveï¼ˆéæ”¯é…è§£ + gridï¼‰
    update_archive(population)

    # 3. é€‰ Leaderï¼ˆÎ±, Î², Î´ï¼‰
    Î±, Î², Î´ = select_leaders(archive)

    # 4. æ›´æ–°æ¯åªç‹¼ï¼ˆç»“æ„æ„ŸçŸ¥ï¼‰
    for wolf in population:
        # 4.1 æ„é€  base
        base = wolf.Position âˆ© Î± âˆ© Î² âˆ© Î´

        # 4.2 æ„é€ å€™é€‰æ± 
        strategy = random.choices(["global", "leader_neighbor"], weights=[0.6, 0.4])[0]
        candidate_pool = generate_candidates(strategy, base, wolf.Position, Î±, Î², Î´, G)

        # 4.3 ä½¿ç”¨ç»“æ„è¯„åˆ†å‡½æ•°ï¼ˆcloseness + degreeï¼ŒåŠ¨æ€æƒé‡ï¼‰
        new_nodes = select_candidate_nodes(candidate_pool, budget - len(base), t, max_iter)

        # 4.4 åˆå¹¶æ›´æ–°
        new_position = base âˆª new_nodes
        wolf.Position = new_position

        # 4.5 æ‰°åŠ¨ï¼ˆå°æ¦‚ç‡ï¼‰
        p_perturb = 0.05 + 0.25 * (t / max_iter)
        if random.random() < p_perturb:
            wolf.Position = apply_perturbation(wolf.Position, closeness)

    # 5. archive æ›´æ–° & HVè®°å½•
    update_archive(population)
```

---

## ğŸ§© 4. æ¨¡å—ç»†èŠ‚è¯´æ˜

### ğŸ”¹ 4.1 ç»“æ„è¯„åˆ†å‡½æ•°ï¼ˆåŠ¨æ€ï¼‰

```python
def node_score(v, t, max_iter):
    w1 = 0.8 - 0.6 * (t / max_iter)
    w2 = 1 - w1
    return w1 * closeness_norm[v] + w2 * degree_norm[v]
```
---

### ğŸ”¹ 4.2 å€™é€‰æ± ç”Ÿæˆ

```python
def generate_candidates(strategy, base, current, Î±, Î², Î´, G):
    if strategy == 'global':
        return set(G.nodes()) - base - current
    else:
        leaders = Î± | Î² | Î´
        non_base = leaders - base
        neighbors = set()
        for node in non_base:
            neighbors.update(G.neighbors(node))
        return (non_base | neighbors) - base - current
```

---

### ğŸ”¹ 4.3 èŠ‚ç‚¹é€‰æ‹©é€»è¾‘

```python
def select_candidate_nodes(candidate_pool, k_remain, t, max_iter):
    scored = sorted(candidate_pool, key=lambda v: node_score(v, t, max_iter), reverse=True)
    return set(scored[:k_remain])
```

---

### ğŸ”¹ 4.4 æ‰°åŠ¨æœºåˆ¶ï¼ˆç»“æ„è·³è·ƒï¼‰

```python
def apply_perturbation(position, closeness):
    out_node = random.choice(list(position))
    position.remove(out_node)

    candidate_pool = set(closeness.keys()) - position
    far_node = max(candidate_pool, key=lambda v: closeness[v])
    position.add(far_node)

    return position
```

---

## ğŸ“¦ 5. Archive ç®¡ç†ï¼ˆPareto + Gridï¼‰

- æ¯è½®æ›´æ–°ï¼š
  - å°†æ‰€æœ‰ç‹¼å’Œ archive åˆå¹¶ï¼›
  - å»é™¤è¢«æ”¯é…è§£ï¼›
  - ä½¿ç”¨ Grid åˆ†å¸ƒè¯„ä¼° Hypervolume å¯†åº¦ï¼›
  - è‹¥è¶…å‡ºå®¹é‡ï¼Œç”¨ Î³ å‹ç¼©å¯†é›†åŒºåŸŸçš„è§£ï¼›
  - è®°å½• HV æ›²çº¿ç”¨äºè¯„ä¼°æ”¶æ•›æ€§ã€‚

---

## ğŸ“ˆ 6. å¤šç›®æ ‡é€‚åº”åº¦å‡½æ•°ï¼ˆå¯è‡ªå®šä¹‰ï¼‰

```python
def multi_obj_eval(seed_set):
    spread = run_IC(seed_set)  # å¯æ›¿æ¢ä¼ æ’­æ¨¡å‹
    cost = sum(node_cost[v] for v in seed_set)
    fairness = compute_fairness(seed_set)
    return [spread, cost, fairness]
```
---

## âœ… 7. æ€»ä½“è®¾è®¡åŸåˆ™ï¼š

| ç»´åº¦ | æè¿° |
|------|------|
| å¤šæ ·æ€§æ§åˆ¶ | å€™é€‰æ± ç­–ç•¥ + åŠ¨æ€æ‰°åŠ¨ |
| è·³è·ƒå¯è°ƒ | base é•¿åº¦å†³å®šæ›´æ–°å¼ºåº¦ |
| ç»“æ„è§£é‡Šæ€§ | æ›´æ–°èŠ‚ç‚¹å…·æœ‰ä¼ æ’­æ„ä¹‰ |
| å¤šç›®æ ‡é©±åŠ¨ | Î±/Î²/Î´ ä¸åŒå¼•å¯¼æ–¹å‘ |
| å¯æ‰©å±•æ€§ | å¯æ¥å…¥æ›´å¤šä¼ æ’­æ¨¡å‹ / ç›®æ ‡ |

selectleader():
We divide the 2D objective space into three triangular subregions representing different preference zones: one prioritizing influence spread, one for fairness, and one for trade-off. For each region, we select one non-dominated solution as a leader by combining normalized location and grid dispersion constraints. This ensures search directionality while maintaining solution diversity.
1. Paretoéæ”¯é…è§£ç»´æŠ¤ï¼ˆArchiveManagerï¼‰
æ”¯é…å…³ç³»åˆ¤æ–­ï¼šå¯ä»¥åˆ¤æ–­ä¸¤ä¸ªè§£åœ¨åŒç›®æ ‡æœ€å¤§åŒ–é—®é¢˜ä¸‹ï¼Œå“ªä¸ªæ”¯é…å“ªä¸ªï¼ˆdominateså‡½æ•°ï¼‰ã€‚

å­˜æ¡£æ›´æ–°ä¸éæ”¯é…ç­›é€‰ï¼šæ¯æ¬¡è¿­ä»£æ ¹æ®Paretoæ”¯é…å…³ç³»ï¼Œç­›é€‰å‡ºæ–°çš„éæ”¯é…è§£é›†ï¼Œæ›¿æ¢æ—§çš„å­˜æ¡£ï¼ˆupdateå‡½æ•°ï¼‰ã€‚

æ‹¥æŒ¤è·ç¦»ç»´æŠ¤å¤šæ ·æ€§ï¼šå½“éæ”¯é…è§£æ•°é‡è¶…è¿‡å­˜æ¡£å®¹é‡æ—¶ï¼Œè‡ªåŠ¨è®¡ç®—æ‹¥æŒ¤è·ç¦»ï¼Œä¼˜å…ˆä¿ç•™ç©ºé—´ä¸Šåˆ†æ•£çš„ä¸ªä½“ï¼ˆcalculate_crowding_distanceå‡½æ•°ï¼‰ã€‚

è¶…ä½“ç§¯ï¼ˆHypervolumeï¼‰è®¡ç®—ï¼šèƒ½å¤Ÿè®¡ç®—æ•´ä¸ªç²¾è‹±å­˜æ¡£ç›¸å¯¹äºå‚è€ƒç‚¹çš„HypervolumeæŒ‡æ ‡ï¼Œç”¨äºè¡¡é‡Paretoå‰æ²¿çš„è´¨é‡ï¼ˆcalculate_hypervolumeå‡½æ•°ï¼‰ã€‚

å­˜æ¡£å¿«ç…§è¾“å‡ºï¼šå¯ä»¥éšæ—¶å–å‡ºå½“å‰ç²¾è‹±å­˜æ¡£ï¼Œç”¨äºå¯è§†åŒ–æˆ–è¿›ä¸€æ­¥åˆ†æï¼ˆget_archiveå‡½æ•°ï¼‰ã€‚

2. åŒºåŸŸå¼•å¯¼å¼Leaderé€‰æ‹©ï¼ˆLeaderManagerï¼‰
ç›®æ ‡å½’ä¸€åŒ–å¤„ç†ï¼šè‡ªåŠ¨å°†ä¸åŒå°ºåº¦çš„ç›®æ ‡å€¼ï¼ˆä¼ æ’­æ€§å’Œå…¬å¹³æ€§ï¼‰å½’ä¸€åŒ–åˆ°[0,1]åŒºé—´ï¼Œä½¿åŒºåŸŸåˆ’åˆ†ç¨³å®šå¯é ï¼ˆnormalize_costså‡½æ•°ï¼‰ã€‚

ä¸‰è§’åŒºåŸŸåˆ†ç±»ï¼šå°†å½’ä¸€åŒ–çš„ç›®æ ‡ç©ºé—´åˆ’åˆ†ä¸ºä¼ æ’­ä¼˜å…ˆåŒºåŸŸï¼ˆSpread Zoneï¼‰ã€å…¬å¹³ä¼˜å…ˆåŒºåŸŸï¼ˆFair Zoneï¼‰å’ŒæŠ˜ä¸­åŒºåŸŸï¼ˆMiddle Zoneï¼‰ï¼ˆclassify_regionå‡½æ•°ï¼‰ã€‚

åˆ†åŒºåŸŸé€‰æ‹©Leaderï¼š

åœ¨æ¯ä¸ªåŒºåŸŸå†…æŒ‘é€‰ä¼ æ’­å€¼æœ€å¤§çš„è§£ä½œä¸ºä»£è¡¨ï¼›

ç¡®ä¿æœç´¢èƒ½å¤Ÿæœå‘ä¼ æ’­æœ€å¤§åŒ–ã€å…¬å¹³æœ€å¤§åŒ–ã€æŠ˜ä¸­æ¢ç´¢ä¸‰ä¸ªæ–¹å‘åŒæ—¶æ¨è¿›ï¼ˆselect_leaders_by_regionå‡½æ•°ï¼‰ã€‚

è¡¥å…¨æœºåˆ¶ï¼š

å¦‚æœæŸäº›åŒºåŸŸæ²¡æœ‰ä¸ªä½“ï¼Œä¼šè‡ªåŠ¨ä»å…¨å±€ä¼ æ’­å€¼é«˜çš„è§£ä¸­è¡¥å……ï¼Œä¿è¯å§‹ç»ˆæœ‰3ä¸ªLeaderå¯ä¾›æœç´¢å¼•å¯¼ï¼ˆensure_leader_minimumå‡½æ•°ï¼‰ã€‚

